<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TippannaOS Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <style>
        /* Global Styles */
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Press Start 2P', monospace;
            color: #FFF;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow: hidden;
            user-select: none;
        }
        a {
            color: #4CAF50;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        /* BootScreen.css */
        .bootContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            color: #0F0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: monospace;
            font-size: 1.25rem;
            line-height: 1.5;
            z-index: 999;
        }
        .bootText p {
            margin: 0;
            animation: fadeIn 1s ease-in-out forwards;
            opacity: 0;
        }
        .bootText p:nth-child(1) { animation-delay: 0.5s; }
        .bootText p:nth-child(2) { animation-delay: 1.5s; }
        .bootText p:nth-child(3) { animation-delay: 2.5s; }
        .bootText p:nth-child(4) { animation-delay: 3.5s; }
        .cursor {
            display: inline-block;
            animation: blink 1s step-end infinite;
            opacity: 1;
            font-size: 1.5rem;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes blink {
            50% { opacity: 0; }
        }
        /* Desktop.css */
        .desktop {
            width: 100vw;
            height: 100vh;
            background-size: cover;
            background-position: center;
            overflow: hidden;
            position: relative;
            transition: background-image 0.5s ease-in-out;
        }
        .desktop.darkTheme {
            background-image: url('https://i.ibb.co/6y4xM2D/wallpaper-dark.jpg');
            cursor: url('https://i.ibb.co/4s5G2Jk/cursor-dark.png'), auto;
        }
        .desktop.lightTheme {
            background-image: url('https://i.ibb.co/hV723zT/wallpaper-light.jpg');
            cursor: url('https://i.ibb.co/D8G3w5g/cursor-light.png'), auto;
        }
        .iconsContainer {
            position: absolute;
            top: 2rem;
            left: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .windowText {
            margin-bottom: 1rem;
        }
        .windowSubTitle {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        .projectItem {
            margin-bottom: 1.5rem;
            padding: 1rem;
            border: 1px solid #ccc;
            border-radius: 5px;
            color: black;
        }
        .projectItem h4 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        @media (max-width: 768px) {
            .iconsContainer {
                top: 1rem;
                left: 1rem;
                flex-direction: row;
                flex-wrap: wrap;
                gap: 1rem;
            }
        }
        /* Icon.css */
        .icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            text-align: center;
            width: 80px;
            user-select: none;
            transition: transform 0.2s ease-in-out;
        }
        .icon:hover {
            transform: translateY(-5px);
        }
        .iconImage {
            width: 48px;
            height: 48px;
            margin-bottom: 0.5rem;
        }
        .iconName {
            font-size: 0.8rem;
            text-shadow: 1px 1px 2px #000;
        }
        @media (max-width: 768px) {
            .icon {
                width: 70px;
            }
            .iconImage {
                width: 40px;
                height: 40px;
            }
            .iconName {
                font-size: 0.7rem;
            }
        }
        /* Taskbar.css */
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40px;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            padding: 0 1rem;
            box-sizing: border-box;
            border-top: 2px solid #444;
        }
        .startMenu {
            margin-right: 1rem;
        }
        .startButton {
            background-color: #333;
            color: #FFF;
            border: 2px outset #777;
            padding: 0.25rem 0.75rem;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9rem;
        }
        .windowList {
            display: flex;
            flex-grow: 1;
            gap: 0.5rem;
            overflow-x: auto;
        }
        .taskbarItem {
            background-color: #555;
            color: #FFF;
            border: 2px outset #999;
            padding: 0.25rem 0.5rem;
            font-size: 0.8rem;
            cursor: pointer;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 150px;
        }
        .taskbarItem.minimized {
            border-style: inset;
            background-color: #333;
        }
        .systemTray {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .time {
            font-size: 0.8rem;
            background-color: #333;
            padding: 0.25rem 0.5rem;
            border: 2px inset #777;
        }
        .themeToggle {
            background-color: #333;
            color: #FFF;
            border: 2px outset #777;
            padding: 0.25rem 0.75rem;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9rem;
        }
        @media (max-width: 768px) {
            .taskbar {
                padding: 0 0.5rem;
            }
            .startMenu {
                margin-right: 0.5rem;
            }
            .startButton {
                padding: 0.2rem 0.5rem;
            }
            .windowList {
                gap: 0.25rem;
            }
            .taskbarItem {
                padding: 0.2rem 0.4rem;
                font-size: 0.7rem;
            }
            .time {
                font-size: 0.7rem;
            }
        }
        /* Terminal.css */
        .terminalContainer {
            background-color: #111;
            color: #0F0;
            padding: 1rem;
            border: 2px solid #0F0;
            height: 100%;
            display: flex;
            flex-direction: column;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            line-height: 1.4;
            overflow: hidden;
            box-sizing: border-box;
        }
        .output {
            flex-grow: 1;
            overflow-y: auto;
            white-space: pre-wrap;
            word-break: break-all;
            margin: 0;
            padding: 0;
        }
        .output span {
            display: block;
        }
        .inputLine {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            margin-top: 1rem;
        }
        .input {
            flex-grow: 1;
            background: transparent;
            border: none;
            color: #0F0;
            font-family: inherit;
            font-size: inherit;
            outline: none;
        }
        /* Window.css */
        .window {
            position: absolute;
            min-width: 300px;
            min-height: 200px;
            background-color: #CCC;
            border: 2px solid #000;
            box-shadow: 5px 5px 0 #000;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: transform 0.3s ease, opacity 0.3s ease;
            transform: scale(1);
            opacity: 1;
        }
        .window.minimized {
            transform: scale(0);
            opacity: 0;
            visibility: hidden;
        }
        .window.maximized {
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: calc(100vh - 40px) !important;
            transform: none;
            transition: width 0.3s, height 0.3s;
        }
        .windowHeader {
            background-color: #000080;
            color: #FFF;
            padding: 0.25rem 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: grab;
            user-select: none;
            border-bottom: 2px solid #000;
        }
        .windowTitle {
            font-weight: bold;
        }
        .windowControls {
            display: flex;
            gap: 0.25rem;
        }
        .windowControls button {
            background-color: #C0C0C0;
            color: #000;
            border: 2px outset #FFF;
            padding: 0 0.5rem;
            font-size: 1rem;
            cursor: pointer;
            line-height: 1;
        }
        .windowContent {
            background-color: #FFF;
            color: #000;
            padding: 1rem;
            flex-grow: 1;
            overflow-y: auto;
            font-size: 0.9rem;
        }
        .window, .windowControls button {
            border-radius: 0;
        }
    </style>
</head>
<body>

<div id="root"></div>

<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://unpkg.com/react-draggable@4.4.6/build/web/react-draggable.min.js"></script>
<script type="text/babel">
// All JSX code goes here, so Babel can transpile it in the browser.

const { useState, useEffect, useRef, useCallback } = React;
const { DraggableCore } = ReactDraggable;

// Portfolio Data
const portfolioData = {
    about: {
        title: "About Me",
        content: [
            "I am a tech-savvy graduate with a passion for technology, automation, and continuous learning. With nearly three years of experience as a Customer Associate at SquadStack, I have honed my skills in customer interaction, communication, and data handling.",
            "I am currently a trainee at Deshpande Skilling, where I'm further developing my technical and professional skills in areas like business communication, reasoning, aptitude, and technology. I am recognized for my adaptability, strong interpersonal skills, and a proactive approach to problem-solving."
        ]
    },
    skills: {
        title: "Core Skills",
        items: [
            "Customer Orientation",
            "Communication Skills",
            "Problem Solving",
            "Result-Oriented",
            "Python & SQL",
            "AI & Automation",
            "MS Office & Google Workspace",
            "English & Kannada"
        ]
    },
    projects: {
        title: "My Projects",
        list: [
            {
                name: "Notes Sharing Website",
                description: "A platform for sharing and accessing academic resources and notes, built on WordPress.",
                url: "https://gfgcrmd.wordpress.com/"
            },
            {
                name: "Hotel Tirumala GMB Profile",
                description: "Managed and optimized the Google My Business profile to improve online visibility and customer engagement.",
                url: "https://share.google/htrhpWbTCsEPCmuLZ"
            },
            {
                name: "My Personal Blog",
                description: "A blog where I share my thoughts, experiences, and learnings on various topics.",
                url: "https://tippannabangi.blogspot.com/"
            }
        ]
    },
    contact: {
        title: "Contact Info",
        email: "Tippannahbangi@gmail.com",
        phone: "+91 7795610812",
        linkedin: "https://in.linkedin.com/in/tippanna-bangi-2b1a77328?trk=profile-badge",
        github: "Your GitHub Profile URL Here"
    },
    easterEgg: {
        title: "Secret Fun Facts!",
        content: [
            "I am a huge fan of classic video games, especially old-school RPGs.",
            "My favorite programming language is Python because of its readability and simplicity.",
            "I love learning about new technologies and finding ways to automate daily tasks.",
        ]
    }
};

// Component Definitions

const BootScreen = ({ onBootComplete }) => {
    useEffect(() => {
        setTimeout(() => {
            onBootComplete();
        }, 5000); // 5 seconds
    }, [onBootComplete]);
    return (
        <div className="bootContainer">
            <div className="bootText">
                <p>Loading TippannaOS v1.0...</p>
                <p>Initializing core components...</p>
                <p>Establishing connection to the matrix...</p>
                <p>Access Granted. Welcome, User.</p>
                <p className="cursor">_</p>
            </div>
        </div>
    );
};

const Icon = ({ name, icon, onClick }) => {
    const iconPath = `https://i.ibb.co/${icon}.png`;
    const getIBB = {
        'about': 'kX7H8Yv',
        'projects': '8w2Vj6s',
        'skills': 'rT6R9Xb',
        'contact': 'G2D7B4M',
        'resume': 'Y4P7T2B',
        'terminal': 'W3D9F8L'
    };
    return (
        <div className="icon" onClick={onClick}>
            <img src={`https://i.ibb.co/${getIBB[icon]}.png`} alt={`${name} icon`} className="iconImage" />
            <span className="iconName">{name}</span>
        </div>
    );
};

const Window = ({ id, title, children, onClose, onMinimize, onMaximize, isActive, zIndex, initialPosition, onDrag }) => {
    const [isMaximized, setIsMaximized] = useState(false);
    const [position, setPosition] = useState(initialPosition || { x: 0, y: 0 });
    const nodeRef = useRef(null);

    const handleMaximizeClick = () => {
        setIsMaximized(!isMaximized);
        onMaximize();
    };

    return (
        <DraggableCore
            handle=".windowHeader"
            onDrag={onDrag}
            onStop={(e, data) => setPosition({ x: data.x, y: data.y })}
            disabled={isMaximized}
        >
            <div
                ref={nodeRef}
                className={`window ${isActive ? 'active' : ''} ${isMaximized ? 'maximized' : ''}`}
                style={{
                    zIndex,
                    transform: isMaximized ? 'none' : `translate(${position.x}px, ${position.y}px)`,
                    display: 'flex'
                }}
            >
                <div className="windowHeader">
                    <span className="windowTitle">{title}</span>
                    <div className="windowControls">
                        <button className="minimizeBtn" onClick={onMinimize}>-</button>
                        <button className="maximizeBtn" onClick={handleMaximizeClick}>&#9633;</button>
                        <button className="closeBtn" onClick={onClose}>×</button>
                    </div>
                </div>
                <div className="windowContent">
                    {children}
                </div>
            </div>
        </DraggableCore>
    );
};


const Taskbar = ({ openWindows, onTaskbarClick, onToggleTheme, onOpenApp }) => {
    const [currentTime, setCurrentTime] = useState(new Date());
    useEffect(() => {
        const timer = setInterval(() => {
            setCurrentTime(new Date());
        }, 1000);
        return () => clearInterval(timer);
    }, []);
    const formatTime = (date) => {
        const hours = date.getHours();
        const minutes = date.getMinutes();
        const ampm = hours >= 12 ? 'PM' : 'AM';
        const formattedHours = hours % 12 === 0 ? 12 : hours % 12;
        const formattedMinutes = minutes < 10 ? `0${minutes}` : minutes;
        return `${formattedHours}:${formattedMinutes} ${ampm}`;
    };
    return (
        <div className="taskbar">
            <div className="startMenu">
                <span className="startButton" onClick={() => onOpenApp('terminal')}>Start</span>
            </div>
            <div className="windowList">
                {Object.values(openWindows).map(window => (
                    <div
                        key={window.id}
                        className={`taskbarItem ${window.isMinimized ? 'minimized' : ''}`}
                        onClick={() => onTaskbarClick(window.id)}
                    >
                        {window.title}
                    </div>
                ))}
            </div>
            <div className="systemTray">
                <button onClick={onToggleTheme} className="themeToggle">Theme</button>
                <span className="time">{formatTime(currentTime)}</span>
            </div>
        </div>
    );
};

const Terminal = () => {
    const [history, setHistory] = useState([
        "Welcome to TippannaOS Command Line.",
        "Type 'help' to see a list of commands."
    ]);
    const [input, setInput] = useState("");
    const terminalRef = useRef(null);
    const commands = {
        help: () => [
            "Available commands:",
            "  about      - Display 'About Me' information.",
            "  projects   - List my projects.",
            "  skills     - Show my core skills.",
            "  contact    - Show contact information.",
            "  secret     - Find a hidden fun fact.",
            "  clear      - Clear the console.",
        ],
        about: () => portfolioData.about.content,
        projects: () => portfolioData.projects.list.map(p => `${p.name}: ${p.description}`),
        skills: () => portfolioData.skills.items,
        contact: () => [
            `Email: ${portfolioData.contact.email}`,
            `Phone: ${portfolioData.contact.phone}`,
            `LinkedIn: ${portfolioData.contact.linkedin}`
        ],
        secret: () => portfolioData.easterEgg.content,
        clear: () => { setHistory([]); return []; },
        default: (cmd) => [`Command not found: ${cmd}. Type 'help' for a list of commands.`]
    };

    const handleCommand = (e) => {
        if (e.key === 'Enter') {
            const cmd = input.trim().toLowerCase();
            const output = commands[cmd] ? commands[cmd]() : commands.default(cmd);
            setHistory(prevHistory => [...prevHistory, `> ${input}`, ...output]);
            setInput("");
        }
    };
    useEffect(() => {
        if (terminalRef.current) {
            terminalRef.current.scrollTop = terminalRef.current.scrollHeight;
        }
    }, [history]);

    return (
        <div className="terminalContainer">
            <pre ref={terminalRef} className="output">
                {history.map((line, index) => <span key={index}>{line}<br /></span>)}
            </pre>
            <div className="inputLine">
                <span>></span>
                <input
                    type="text"
                    className="input"
                    value={input}
                    onChange={(e) => setInput(e.target.value)}
                    onKeyDown={handleCommand}
                    autoFocus
                />
            </div>
        </div>
    );
};

const App = () => {
    const [isBooting, setIsBooting] = useState(true);
    const [theme, setTheme] = useState('dark');
    const [openWindows, setOpenWindows] = useState({});
    const [activeWindow, setActiveWindow] = useState(null);
    const [zIndexCounter, setZIndexCounter] = useState(1);

    const openWindow = useCallback((id, title, content) => {
        setOpenWindows(prevWindows => {
            const newZIndex = zIndexCounter + 1;
            setZIndexCounter(newZIndex);
            if (prevWindows[id]) {
                if (prevWindows[id].isMinimized) {
                    return { ...prevWindows, [id]: { ...prevWindows[id], isMinimized: false, zIndex: newZIndex } };
                }
                return { ...prevWindows, [id]: { ...prevWindows[id], zIndex: newZIndex } };
            }
            return {
                ...prevWindows,
                [id]: {
                    id,
                    title,
                    content,
                    isMinimized: false,
                    isMaximized: false,
                    initialPosition: {
                        x: Math.random() * 200 + 50,
                        y: Math.random() * 100 + 50
                    },
                    zIndex: newZIndex
                }
            };
        });
        setActiveWindow(id);
    }, [zIndexCounter]);

    const closeWindow = useCallback((id) => {
        setOpenWindows(prevWindows => {
            const newWindows = { ...prevWindows };
            delete newWindows[id];
            return newWindows;
        });
        setActiveWindow(null);
    }, []);

    const minimizeWindow = useCallback((id) => {
        setOpenWindows(prevWindows => ({ ...prevWindows, [id]: { ...prevWindows[id], isMinimized: true } }));
    }, []);

    const maximizeWindow = useCallback((id) => {
        setOpenWindows(prevWindows => ({ ...prevWindows, [id]: { ...prevWindows[id], isMaximized: !prevWindows[id].isMaximized } }));
    }, []);

    const focusWindow = useCallback((id) => {
        if (!openWindows[id]) return;
        setZIndexCounter(prev => {
            setOpenWindows(prevWindows => ({
                ...prevWindows,
                [id]: { ...prevWindows[id], zIndex: prev + 1, isMinimized: false }
            }));
            setActiveWindow(id);
            return prev + 1;
        });
    }, [openWindows]);

    const handleIconClick = (app) => {
        if (app === 'about') openWindow('about', 'About Me', <div>{portfolioData.about.content.map((p, i) => <p key={i} className="windowText">{p}</p>)}</div>);
        if (app === 'projects') openWindow('projects', 'Projects', <div><h3 className="windowSubTitle">My Projects</h3>{portfolioData.projects.list.map((p, i) => (<div key={i} className="projectItem"><h4>{p.name}</h4><p>{p.description}</p><a href={p.url} target="_blank" rel="noopener noreferrer">View Project →</a></div>))}</div>);
        if (app === 'skills') openWindow('skills', 'Skills', <div><h3 className="windowSubTitle">Core Skills</h3><ul>{portfolioData.skills.items.map((s, i) => <li key={i}>{s}</li>)}</ul></div>);
        if (app === 'contact') openWindow('contact', 'Contact', <div><h3 className="windowSubTitle">Get In Touch</h3><p>Email: {portfolioData.contact.email}</p><p>Phone: {portfolioData.contact.phone}</p><p>LinkedIn: <a href={portfolioData.contact.linkedin} target="_blank" rel="noopener noreferrer">My LinkedIn</a></p></div>);
        if (app === 'terminal') openWindow('terminal', 'Terminal', <Terminal />);
        if (app === 'resume') { alert("Resume link will be here!"); }
    };

    const handleToggleTheme = () => {
        setTheme(prevTheme => (prevTheme === 'dark' ? 'light' : 'dark'));
    };

    return (
        <React.Fragment>
            {isBooting ? (
                <BootScreen onBootComplete={() => setIsBooting(false)} />
            ) : (
                <div className={`desktop ${theme === 'dark' ? 'darkTheme' : 'lightTheme'}`}>
                    <div className="iconsContainer">
                        <Icon name="About Me" icon="about" onClick={() => handleIconClick('about')} />
                        <Icon name="Projects" icon="projects" onClick={() => handleIconClick('projects')} />
                        <Icon name="Skills" icon="skills" onClick={() => handleIconClick('skills')} />
                        <Icon name="Contact" icon="contact" onClick={() => handleIconClick('contact')} />
                        <Icon name="Resume.pdf" icon="resume" onClick={() => handleIconClick('resume')} />
                        <Icon name="Terminal" icon="terminal" onClick={() => handleIconClick('terminal')} />
                    </div>
                    {Object.values(openWindows).map((windowProps) => (
                        <Window
                            key={windowProps.id}
                            {...windowProps}
                            onClose={() => closeWindow(windowProps.id)}
                            onMinimize={() => minimizeWindow(windowProps.id)}
                            onMaximize={() => maximizeWindow(windowProps.id)}
                            isActive={activeWindow === windowProps.id}
                            onDrag={() => focusWindow(windowProps.id)}
                            zIndex={windowProps.zIndex}
                        >
                            {windowProps.content}
                        </Window>
                    ))}
                    <Taskbar
                        openWindows={openWindows}
                        onTaskbarClick={focusWindow}
                        onToggleTheme={handleToggleTheme}
                        onOpenApp={handleIconClick}
                    />
                </div>
            )}
        </React.Fragment>
    );
};

ReactDOM.createRoot(document.getElementById('root')).render(<App />);

</script>
</body>
</html>
